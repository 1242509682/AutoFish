# AutoFish 自动钓鱼

- 作者: 羽学 少司命
- 出处: 无
- 这是一个Tshock服务器插件，主要用于：自动钓鱼，可通过配置文件调整鱼钩数量，指定消耗的鱼饵（物品）来换取插件使用时长。

## 更新日志

```
v1.1.0
成功完成Tshock版《自动钓鱼》，
加入了消耗鱼饵数量来换取自动钓鱼使用时长的逻辑
当身上有松露虫时，会自动钓上铁镐，并试图关闭玩家的自动钓鱼开关
玩家可通过/af on指令重新开启插件，并不会清空玩家的自动钓鱼时长

v1.0.0
试图制作Tshock版《自动钓鱼》，而失败的半成品：
服务器无法修改客户端玩家的操作，更没有相对数据包来处理上钩的状态。
尝试从AI[0]改为1来触发收线效果，但无法获取到实际的渔获。

```

## 指令

| 语法                             | 别名  |       权限       |                   说明                   |
| -------------------------------- | :---: | :--------------: | :--------------------------------------: |
| /af  | 无 |   autofish    |    指令菜单（查询自动钓鱼所剩时长）    |
| /af on  | 无 |   autofish    |    开启玩家自己的自动钓鱼    |
| /af off  | 无 |   autofish    |    关闭玩家自己的自动钓鱼    |
| /reload  | 无 |   tshock.cfg.reload    |    重载配置文件    |

---
配置注意事项
---
1. 本插件的权限名为`autofish` 你可以输入 `/group addperm default autofish`给玩家添加权限

2.`多钩钓鱼`为自动钓鱼开启连发模式，让钓鱼效率更高，`多钩上限`定义最多可以多少鱼钩同时自动钓
  
3.`鱼饵数量`为消耗多少个鱼饵数量来换取玩家自动钓鱼使用`自动时长`，时长单位为`分钟`，可通过/af菜单指令查看

4.`指定鱼饵`为指定消耗的物品ID，用于开启自动钓鱼功能用。当玩家身上有`松露虫`时，默认会关闭玩家自己的开关。

5.`指定渔获`当其开启时，会无视环境要求和鱼获检查，钓上这个数组里的随机物品

## 配置
> 配置文件位置：tshock/自动钓鱼.json
```json
{
  "插件开关": true,
  "多钩钓鱼": true,
  "多钩上限": 5,
  "鱼饵数量": 10,
  "自动时长": 24,
  "广告开关": true,
  "广告内容": "\n[i:3456][C/F2F2C7:插件开发] [C/BFDFEA:by] [c/00FFFF:羽学] | [c/7CAEDD:少司命][i:3459]",
  "指定鱼饵": [
    2002,
    2675,
    2676,
    3191,
    3194
  ],
  "指定渔获": []
}
```
## 反馈
- 优先发issued -> 共同维护的插件库：https://github.com/UnrealMultiple/TShockPlugin
- 次优先：TShock官方群：816771079
- 大概率看不到但是也可以：国内社区trhub.cn ，bbstr.net , tr.monika.love